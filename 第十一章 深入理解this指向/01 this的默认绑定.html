<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
    //this默认指向了window
    //1.全局环境下的this指向了window
    // console.log(this);
    //2.函数独立调用，函数内部的this也是指向了window
   /* function fn() {
        console.log(this);
    }
    fn();*/
   /* var c=function () {
        console.log(this)
    }
    c();*/
    //3.被嵌套的函数独立调用时，this默认指向了window
    /*var  a=0;
    var obj = {
        a:2,
        foo:function () {
            //函数当做对象的方法来调用，this指向了obj
            var that = this
            // console.log(this)//指向obj
            // console.log(this.a)
            function test() {
                console.log(this)//指向window
                console.log(this.a)
                console.log(that)
                console.log(that.a)
            }
            test();
        }
    }
    obj.foo();*/
    //4.IIFE自执行函数中内部的函数this指向window
    // (function () {
    //     console.log('自执行函数的this指向：'+this)
    // })();
    //5.闭包this默认指向window
    var a=0;
    var obj ={
        a:2,
        foo:function () {
            var _this = this;
            console.log(this)
            return function () {
                // console.log(this,this.a)
                return _this.a
            }
        }
    }
    var fn = obj.foo();
    console.log(fn())
</script>
</body>
</html>
